import{z as U,a as m,h,w as l,Q as e,c as E,N as I,u as Y,F as M,L as n,r as V,g as x,k as y,an as T,O as A,P as L,D as k,Y as J}from"./index.a6bf5d43.js";import{E as C}from"./divider.aa6796ee.js";import{E as j,a as F}from"./form-item.5ed0e849.js";import{y as q}from"./button.faf7d773.js";import{E as B}from"./date-picker.db79d6f6.js";import{E as N}from"./input.96d5573d.js";import"./scrollbar.72deccbf.js";import"./popper.f9e7652b.js";import{E as z}from"./tag.2ffce951.js";import{E as Q,a as Z}from"./select.0003dd64.js";import{u as R}from"./index.ec020351.js";import{u as O}from"./dispatch.ef3b9af8.js";import{E as G}from"./pagination.b152e207.js";import{E as H,a as K}from"./table-column.86df5288.js";/* empty css                */import{E as W}from"./popover.b1a877f1.js";import{E as X}from"./link.39476dab.js";import{E as P}from"./overlay.397ba696.js";import{E as ee,a as le}from"./descriptions-item.cf199398.js";import{_ as te}from"./submit.e7f99569.js";import"./focus-trap2.58d2497a.js";import"./aria2.e9b02c40.js";import"./index2.89489fff.js";import"./scroll2.c7fc2d83.js";import"./vnode2.3859dba3.js";import"./refs2.2357a2e1.js";const ae=n("\u67E5\u8BE2"),oe={__name:"dispatchSearch",setup($){const g=R(),i=O(),t=U({dispatchId:null,dispatchType:null,dispatchStatus:null,dispatchSubject:null,deliveryDate:null});return(D,d)=>{const b=N,p=j,a=Q,u=Z,_=B,o=q,c=F;return m(),h(c,{inline:!0,model:t,class:"demo-form-inline"},{default:l(()=>[e(p,{label:"\u6D3E\u5DE5\u5355\u7F16\u53F7"},{default:l(()=>[e(b,{modelValue:t.dispatchId,"onUpdate:modelValue":d[0]||(d[0]=r=>t.dispatchId=r),placeholder:"\u8F93\u5165\u6D3E\u5DE5\u5355\u7F16\u53F7"},null,8,["modelValue"])]),_:1}),e(p,{label:"\u6D3E\u5DE5\u7C7B\u578B"},{default:l(()=>[e(u,{modelValue:t.dispatchType,"onUpdate:modelValue":d[1]||(d[1]=r=>t.dispatchType=r),filterable:"",placeholder:"\u9009\u62E9\u6D3E\u5DE5\u7C7B\u578B"},{default:l(()=>[(m(!0),E(M,null,I(Y(i).option,r=>(m(),h(a,{key:r.value,label:r.label,value:r.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),e(p,{label:"\u4E13\u4E1A"},{default:l(()=>[e(u,{modelValue:t.dispatchSubject,"onUpdate:modelValue":d[2]||(d[2]=r=>t.dispatchSubject=r),filterable:"",placeholder:"\u9009\u62E9\u4E13\u4E1A"},{default:l(()=>[(m(!0),E(M,null,I(Y(g).subjectOption,r=>(m(),h(a,{key:r.value,label:r.label,value:r.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),e(p,{label:"\u5B8C\u6210\u72B6\u6001"},{default:l(()=>[e(u,{modelValue:t.dispatchStatus,"onUpdate:modelValue":d[3]||(d[3]=r=>t.dispatchStatus=r),placeholder:"\u9009\u62E9\u6D3E\u5DE5\u5355\u72B6\u6001"},{default:l(()=>[e(a,{label:"\u672A\u5F00\u59CB",value:"1"}),e(a,{label:"\u8FDB\u884C\u4E2D",value:"2"}),e(a,{label:"\u5DF2\u7ED3\u675F",value:"3"})]),_:1},8,["modelValue"])]),_:1}),e(p,{label:"\u9001\u4FEE\u65E5\u671F"},{default:l(()=>[e(_,{modelValue:t.deliveryDate,"onUpdate:modelValue":d[4]||(d[4]=r=>t.deliveryDate=r),type:"date",placeholder:"\u9009\u62E9\u9001\u4FEE\u65E5\u671F"},null,8,["modelValue"])]),_:1}),e(p,null,{default:l(()=>[e(o,{type:"primary"},{default:l(()=>[ae]),_:1})]),_:1})]),_:1},8,["model"])}}},re=n("\u5B9A\u671F\u68C0\u4FEE"),ne=n("\u6B27\u8C31\u73ED"),se=n("\u5C24\u4ECB\u8F89"),de=n("\u673A\u7535\u540D\u79F0\u673A\u7535\u540D\u79F0"),ie=n("Suzhou"),ue=n("\u5404\u4E13\u4E1A\u961F\u8981\u843D\u5B9E\u597D\u5DE5\u5177\u501F\u7528\u5236\u5EA6\uFF0C\u5DE5\u5177\u7528\u5B8C\u540E\u8981\u53CA\u65F6\u6E05\u70B9\u3001\u5F52\u8FD8\uFF0C\u9632\u6B62\u5DE5\u5177\u9057\u5931"),pe=n("\u673A\u68B0"),ce=n("\u6797\u6587\u51B2"),me=n("\u4E91\u7FBF\u8C06"),_e=n("2022-05-10"),fe=n("\u8D28\u63A7\u5BA4\u8981\u505A\u597D\u4FE1\u606F\u6536\u96C6\u548C\u5404\u7C7B\u5361\u7247\u7684\u6536\u53D1\u5DE5\u4F5C"),be={class:"dialog-footer"},he=n("\u5173\u95ED"),ge={__name:"dispatchView",setup($,{expose:g}){const i=V(!1),t=V();return g({openDialog:d=>{i.value=!0,t.value=d}}),(d,b)=>{const p=z,a=ee,u=le,_=q,o=P;return m(),h(o,{modelValue:i.value,"onUpdate:modelValue":b[1]||(b[1]=c=>i.value=c),title:"\u6D3E\u5DE5\u5355\u8BE6\u60C5",width:"700px",center:"","destroy-on-close":""},{footer:l(()=>[x("div",be,[e(_,{onClick:b[0]||(b[0]=c=>i.value=!1)},{default:l(()=>[he]),_:1})])]),default:l(()=>[e(u,{title:"\u6D3E\u5DE5\u5355\u7F16\u53F7\uFF1A"+t.value.dispatchId,column:"2",border:""},{extra:l(()=>[e(p,{effect:"plain"},{default:l(()=>[re]),_:1})]),default:l(()=>[e(a,{label:"\u9001\u4FEE\u5355\u4F4D"},{default:l(()=>[n(y(t.value.repairUnit),1)]),_:1}),e(a,{label:"\u6279\u51C6\u4EBA"},{default:l(()=>[ne]),_:1}),e(a,{label:"\u9001\u4FEE\u65E5\u671F"},{default:l(()=>[n(y(t.value.deliveryDate),1)]),_:1}),e(a,{label:"\u9001\u4EF6\u4EBA"},{default:l(()=>[se]),_:1}),e(a,{label:"\u673A\u7535\u540D\u79F0"},{default:l(()=>[de]),_:1}),e(a,{label:"\u578B\u53F7"},{default:l(()=>[ie]),_:1}),e(a,{label:"\u65BD\u5DE5\u8981\u6C42",span:2},{default:l(()=>[ue]),_:1}),e(a,{label:"\u5B8C\u5DE5\u65E5\u671F",span:2},{default:l(()=>[n(y(t.value.endDate),1)]),_:1}),e(a,{label:"\u6267\u884C\u4EBA",span:2},{default:l(()=>[n(y(t.value.executor),1)]),_:1}),e(a,{label:"\u65BD\u5DE5\u5355\u4F4D"},{default:l(()=>[e(p,null,{default:l(()=>[pe]),_:1})]),_:1}),e(a,{label:"\u63A5\u6536\u4EBA"},{default:l(()=>[ce]),_:1}),e(a,{label:"\u6D3E\u5DE5\u4EBA"},{default:l(()=>[me]),_:1}),e(a,{label:"\u7B7E\u53D1\u65E5\u671F"},{default:l(()=>[_e]),_:1}),e(a,{label:"\u5B8C\u6210\u60C5\u51B5"},{default:l(()=>[fe]),_:1})]),_:1},8,["title"])]),_:1},8,["modelValue"])}}},ve={class:"flex flex-row"},Ve={class:"flex flex-row"},De={class:"dialog-footer"},ye=n("\u5173\u95ED"),Ee=n("\u786E\u8BA4\u4FEE\u6539"),we={__name:"dispatchEdit",setup($,{expose:g}){let i=V(!1);const t=U({dispatchId:null,electromechanical:null,sender:null,model:null,deliveryDate:null,publishDate:null,endDate:null,requirements:null,completion:null}),D=U({dispatchId:[{required:!0,message:"\u8BF7\u8F93\u5165\u6D3E\u5DE5\u5355\u7F16\u53F7",trigger:"blur"},{pattern:/^\d{2}[A-Z]+\d+$/,message:"\u6D3E\u5DE5\u5355\u7F16\u53F7\u683C\u5F0F\u4E0D\u6B63\u786E",trigger:"blur"}],electromechanical:[{required:!0,message:"\u8BF7\u8F93\u5165\u673A\u7535\u540D\u79F0",trigger:"blur"}],sender:[{required:!0,message:"\u8BF7\u8F93\u5165\u9001\u4EF6\u4EBA",trigger:"blur"}],model:[{required:!0,message:"\u8BF7\u8F93\u5165\u578B\u53F7",trigger:"blur"}],deliveryDate:[{required:!0,message:"\u8BF7\u9009\u62E9\u9001\u4FEE\u65E5\u671F",trigger:"change"}],publishDate:[{required:!0,message:"\u8BF7\u9009\u62E9\u7B7E\u53D1\u65E5\u671F",trigger:"change"}],endDate:[{required:!0,message:"\u8BF7\u9009\u62E9\u5B8C\u5DE5\u65E5\u671F",trigger:"change"}],requirements:[{required:!0,message:"\u8BF7\u8F93\u5165\u65BD\u5DE5\u8981\u6C42",trigger:"blur"}],completion:[{required:!0,message:"\u8BF7\u8F93\u5165\u5B8C\u6210\u60C5\u51B5",trigger:"blur"}]}),d=V(),b=V(!1),p=()=>{d.value.validate(_=>{if(!_){alert("\u5B57\u6BB5\u9519\u8BEF");return}console.log("\u6210\u529F")})},a=_=>{i.value=!0,Object.keys(t).forEach(o=>{t[o]=_[o]})},u=()=>{d.value.resetFields()};return g({openDialog:a}),(_,o)=>{const c=N,r=j,w=B,S=F,v=q,f=P;return m(),h(f,{modelValue:Y(i),"onUpdate:modelValue":o[10]||(o[10]=s=>T(i)?i.value=s:i=s),title:"\u7F16\u8F91\u6D3E\u5DE5\u5355",width:"700px",onClose:u,center:"","destroy-on-close":""},{footer:l(()=>[x("div",De,[e(v,{onClick:o[9]||(o[9]=s=>T(i)?i.value=!1:i=!1)},{default:l(()=>[ye]),_:1}),e(v,{type:"primary",disabled:b.value,onClick:p},{default:l(()=>[Ee]),_:1},8,["disabled"])])]),default:l(()=>[e(S,{ref_key:"editMsg",ref:d,model:t,rules:D,"label-position":"left","label-width":"100px",class:"w-full"},{default:l(()=>[e(r,{label:"\u6D3E\u5DE5\u5355\u7F16\u53F7",prop:"dispatchId"},{default:l(()=>[e(c,{modelValue:t.dispatchId,"onUpdate:modelValue":o[0]||(o[0]=s=>t.dispatchId=s),placeholder:"\u8BF7\u8F93\u5165\u6D3E\u5DE5\u5355\u7F16\u53F7",clearable:""},null,8,["modelValue"])]),_:1}),e(r,{label:"\u673A\u7535\u540D\u79F0",prop:"electromechanical"},{default:l(()=>[e(c,{modelValue:t.electromechanical,"onUpdate:modelValue":o[1]||(o[1]=s=>t.electromechanical=s),placeholder:"\u8BF7\u8F93\u5165\u673A\u7535\u540D\u79F0",clearable:""},null,8,["modelValue"])]),_:1}),e(r,{label:"\u9001\u4EF6\u4EBA",prop:"sender"},{default:l(()=>[e(c,{modelValue:t.sender,"onUpdate:modelValue":o[2]||(o[2]=s=>t.sender=s),placeholder:"\u8BF7\u8F93\u5165\u9001\u4EF6\u4EBA",clearable:""},null,8,["modelValue"])]),_:1}),x("div",ve,[e(r,{class:"flex-auto",label:"\u578B\u53F7",prop:"model"},{default:l(()=>[e(c,{modelValue:t.model,"onUpdate:modelValue":o[3]||(o[3]=s=>t.model=s),placeholder:"\u8BF7\u8F93\u5165\u578B\u53F7",clearable:""},null,8,["modelValue"])]),_:1}),e(r,{class:"flex-auto ml-3",label:"\u5B8C\u5DE5\u65E5\u671F",prop:"endDate"},{default:l(()=>[e(w,{modelValue:t.endDate,"onUpdate:modelValue":o[4]||(o[4]=s=>t.endDate=s),format:"YYYY-MM-DD","value-format":"YYYY-MM-DD",placeholder:"\u8BF7\u9009\u62E9\u5B8C\u5DE5\u65E5\u671F",clearable:""},null,8,["modelValue"])]),_:1})]),x("div",Ve,[e(r,{class:"flex-auto",label:"\u9001\u4FEE\u65E5\u671F",prop:"deliveryDate"},{default:l(()=>[e(w,{modelValue:t.deliveryDate,"onUpdate:modelValue":o[5]||(o[5]=s=>t.deliveryDate=s),format:"YYYY-MM-DD","value-format":"YYYY-MM-DD",placeholder:"\u8BF7\u9009\u62E9\u9001\u4FEE\u65E5\u671F",clearable:""},null,8,["modelValue"])]),_:1}),e(r,{class:"flex-auto",label:"\u7B7E\u53D1\u65E5\u671F",prop:"publishDate"},{default:l(()=>[e(w,{modelValue:t.publishDate,"onUpdate:modelValue":o[6]||(o[6]=s=>t.publishDate=s),format:"YYYY-MM-DD","value-format":"YYYY-MM-DD",placeholder:"\u8BF7\u9009\u62E9\u7B7E\u53D1\u65E5\u671F",clearable:""},null,8,["modelValue"])]),_:1})]),e(r,{label:"\u65BD\u5DE5\u8981\u6C42",prop:"requirements"},{default:l(()=>[e(c,{modelValue:t.requirements,"onUpdate:modelValue":o[7]||(o[7]=s=>t.requirements=s),type:"textarea",placeholder:"\u8BF7\u8F93\u5165\u65BD\u5DE5\u8981\u6C42",autosize:{minRows:4,maxRows:4}},null,8,["modelValue"])]),_:1}),e(r,{label:"\u5B8C\u6210\u60C5\u51B5",prop:"completion"},{default:l(()=>[e(c,{modelValue:t.completion,"onUpdate:modelValue":o[8]||(o[8]=s=>t.completion=s),type:"textarea",placeholder:"\u8BF7\u8F93\u5165\u5B8C\u6210\u60C5\u51B5",autosize:{minRows:4,maxRows:4}},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["modelValue"])}}},ke=n("\u672A\u5F00\u59CB"),xe=n("\u8FDB\u884C\u4E2D"),Ye=n("\u5DF2\u7ED3\u675F"),$e=n("\u67E5\u770B"),Me=n("\u7F16\u8F91"),Se=n("\u5220\u9664"),Ue={key:0},qe=n("\u63D0\u4EA4\u6D3E\u5DE5\u5355"),Ie={__name:"dispatchTable",setup($){const g=R(),i=O();A();const t=V(),D=V(),d=V(),b=()=>{let p=[];for(let a=0;a<=10;a++)p.push({dispatchId:"22DJ"+(a+1),dispatchType:Math.floor(Math.random()*10+1),subject:Math.floor(Math.random()*6+1),sender:"\u9001\u4EF6\u4EBA-"+(a+1),electromechanical:"\u673A\u7535\u540D\u79F0-"+(a+1),repairUnit:"\u9001\u4FEE\u5355\u4F4D-"+(a+1),status:Math.floor(Math.random()*3+1),model:"\u578B\u53F7-"+(a+1),deliveryDate:"2022-05-1"+a,publishDate:"2022-06-1"+a,endDate:"2022-07-1"+a,requirements:"aabbcc",completion:"aabbcc"});return p};return(p,a)=>{const u=H,_=z,o=X,c=C,r=W,w=K,S=G,v=L("auth");return m(),E(M,null,[e(w,{data:b(),border:"",ref:"taskTable","header-cell-style":{background:"#F5F7FA",color:"#303133","text-align":"center"},"cell-style":{"text-align":"center",height:"50px"},style:{width:"100%"}},{default:l(()=>[e(u,{prop:"dispatchId",fixed:"",label:"\u6D3E\u5DE5\u5355\u7F16\u53F7",width:"120"}),e(u,{prop:"dispatchType",label:"\u6D3E\u5DE5\u7C7B\u578B","min-width":"180"},{default:l(f=>[e(_,{effect:"plain"},{default:l(()=>[n(y(Y(i).getDispatchName(f.row.dispatchType)),1)]),_:2},1024)]),_:1}),e(u,{prop:"subject",label:"\u4E13\u4E1A","min-width":"130"},{default:l(f=>[e(_,null,{default:l(()=>[n(y(Y(g).subjectTransform("code",f.row.subject,"name")),1)]),_:2},1024)]),_:1}),e(u,{prop:"electromechanical",label:"\u673A\u7535\u540D\u79F0","min-width":"130"}),e(u,{prop:"repairUnit",label:"\u9001\u4FEE\u5355\u4F4D","min-width":"130"}),e(u,{prop:"status",label:"\u5B8C\u6210\u72B6\u6001","min-width":"120"},{default:l(f=>[f.row.status===1?(m(),h(_,{key:0,type:"danger"},{default:l(()=>[ke]),_:1})):f.row.status===2?(m(),h(_,{key:1,type:"success"},{default:l(()=>[xe]),_:1})):(m(),h(_,{key:2,type:"info"},{default:l(()=>[Ye]),_:1}))]),_:1}),e(u,{prop:"deliveryDate",label:"\u9001\u4FEE\u65E5\u671F","min-width":"180"}),e(u,{prop:"publishDate",label:"\u7B7E\u53D1\u65E5\u671F","min-width":"180"}),e(u,{prop:"endDate",label:"\u5B8C\u5DE5\u65E5\u671F","min-width":"180"}),e(u,{label:"\u64CD\u4F5C","min-width":"180"},{default:l(f=>[e(o,{type:"primary",onClick:s=>t.value.openDialog(f.row)},{default:l(()=>[$e]),_:2},1032,["onClick"]),k((m(),E("span",null,[e(c,{direction:"vertical"}),e(o,{type:"primary",onClick:s=>D.value.openDialog(f.row)},{default:l(()=>[Me]),_:2},1032,["onClick"]),e(c,{direction:"vertical"}),k((m(),h(r,{title:"\u662F\u5426\u786E\u8BA4\u5220\u9664\u6D3E\u5DE5\u5355\uFF1F"},{reference:l(()=>[e(o,{type:"danger"},{default:l(()=>[Se]),_:1})]),_:1})),[[v,["controller"]]])])),[[v,["controller"]]]),f.row.status!==3?k((m(),E("span",Ue,[e(c,{direction:"vertical"}),e(o,{type:"primary",onClick:a[0]||(a[0]=s=>d.value.open())},{default:l(()=>[qe]),_:1})])),[[v,["principal"]]]):J("",!0)]),_:1})]),_:1},8,["data"]),e(S,{"page-size":"15",background:"",layout:"prev, pager, next, jumper",class:"mt-12 float-right",total:100}),e(ge,{ref_key:"dispatchView",ref:t},null,512),k(e(we,{ref_key:"dispatchEdit",ref:D},null,512),[[v,["controller"]]]),k(e(te,{ref_key:"dispatchSubmit",ref:d},null,512),[[v,["principal"]]])],64)}}},Te=x("div",{class:"page-title"},"\u6D3E\u5DE5\u5355\u5217\u8868",-1),sl={__name:"index",setup($){return(g,i)=>{const t=C;return m(),E(M,null,[Te,e(oe),e(t),e(Ie)],64)}}};export{sl as default};
